<%= render "govuk_publishing_components/components/summary_list", {
  id: "family",
  title: "Family",
  borderless: true,
  edit: (
    if @edition.editable? and not @edition.has_parent?
      { href: children_path(@edition.document) }
    end
  ),
  items: [
          {
            field: 'parent',
            value: (@edition.has_parent? ?
                link_to(@edition.parent.title, document_path(@edition.parent.document),
                  class: "govuk-link govuk-link--no-visited-state")
                      : 'no parent')
          }
  ] + (@edition.has_children? ? (@edition.children.each_with_index.map do |child, index|
    {
      field: "child #{index}",
      value: link_to(child.current_edition.title, document_path(child),
                     class: "govuk-link govuk-link--no-visited-state")
    }
  end) : [
    {
      field: 'children',
      value: 'no children'
    }
  ])
} %>